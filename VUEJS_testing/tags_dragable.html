<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <title>Draggable Inputs</title>
    <style>
        #tags ul {
            list-style-type: none;
            padding: 0;
        }
        
        #tags li {
            margin-bottom: 5px;
            padding: 5px;
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            cursor: move;
            /* Change cursor to indicate draggable */
            transition: background-color 0.3s ease;
            /* Add transition effect */
        }
        
        #tags li.draggable {
            background-color: #e0e0e0;
            /* Change background color when dragging */
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            /* Add shadow effect */
        }
    </style>
</head>

<body>
    <div id="tags">
        <ul>
            <li v-for="(tag, index) in tags" :key="index" :draggable="true" @dragstart="onDragStart(index)" @dragover.prevent="onDragOver" @drop.prevent="onDrop(index)" @dragenter="onDragEnter(index)" @dragleave="onDragLeave(index)" :class="{ 'draggable': isDragging === index }">
                <input v-model="tags[index]">
                <button @click.prevent="deleteItem(index)">Delete</button>
            </li>
        </ul>
        <div> {{ tags.join(',') }} </div>
        <input name="tags" type="hidden" :value="tags.join(',')">
        <button @click.prevent="addItem">Add tag</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script>
        new Vue({
            el: '#tags',
            data: {
                tags: [],
                new Vue({
                    el: '#app',
                    data: {
                        tags: ['Vue.js', 'React', 'Angular', 'JavaScript', 'HTML', 'CSS'],
                        selectedTags: []
                    },
                    methods: {
                        toggleTag(index) {
                            const tag = this.tags[index];
                            const selectedIndex = this.selectedTags.indexOf(tag);
                            if (selectedIndex === -1) {
                                this.selectedTags.push(tag);
                            } else {
                                this.selectedTags.splice(selectedIndex, 1);
                            }
                        }
                    }
                }); // Track the index of the currently dragged item

            },
            methods: {
                addItem: function() {
                    this.tags.push('');
                },
                deleteItem: function(index) {
                    this.tags.splice(index, 1);
                },
                onDragStart: function(index) {
                    // Set the drag data to the index of the dragged item
                    event.dataTransfer.setData('text/plain', index);
                },
                onDragOver: function() {
                    // Allow drops
                    event.preventDefault();
                },
                onDrop: function(index) {
                    // Get the index of the item being dragged
                    const draggedIndex = event.dataTransfer.getData('text/plain');
                    // Move the item to the new index
                    const draggedTag = this.tags[draggedIndex];
                    this.tags.splice(draggedIndex, 1); // Remove the item from the original position
                    this.tags.splice(index, 0, draggedTag); // Insert the item at the new position
                },
                onDragEnter: function(index) {
                    if (this.isDragging !== null && index !== this.isDragging) {
                        // Apply styles to the target element
                        event.target.classList.add('draggable');
                    }
                },
                // Remove the highlight when dragging leaves
                onDragLeave: function(index) {
                    if (this.isDragging !== null && index !== this.isDragging) {
                        // Remove styles from the target element
                        event.target.classList.remove('draggable');
                    }
                }
            }
        });
    </script>
</body>

</html>